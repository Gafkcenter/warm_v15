<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>window对象的练习</title>
<meta
	http-equiv="content-type"
	content="text/html; charset=UTF-8"
>
<!-- 
    	在页面上显示一个不断变化的时间
    	首先需要获取到当前的年月日时分秒
    	在让浏览器周期性的去执行  获取年月日时分秒  的功能，这样就可以让时间动起来
     -->
<style type="text/css">
table div {
	background-color: #ffffff;
	width: 60px;
	height: 40px;
	border: 1px #223344 dotted;
	text-align: center;
	padding-top: 10px;
}
</style>
<script type="text/javascript">
    
    </script>
</head>
<body>
	<div id="time">xxxx年xx月xx日 xx:xx:xx</div>
	<table>
		<tr>
			<td><div name="div1">1</div></td>
			<td><div name="div2">2</div></td>
			<td><div name="div3">3</div></td>
			<td><div name="div4">4</div></td>
			<td><div name="div5">5</div></td>
			<td><div name="div6">6</div></td>
		</tr>
		<tr>
			<td><div name="div20">20</div></td>
			<td><div name="div21">21</div></td>
			<td><div name="div22">22</div></td>
			<td><div name="div23">23</div></td>
			<td><div name="div24">24</div></td>
			<td><div name="div7">7</div></td>
		</tr>
		<tr>
			<td><div name="div19">19</div></td>
			<td><div name="div32">32</div></td>
			<td><div name="div33">33</div></td>
			<td><div name="div34">34</div></td>
			<td><div name="div25">25</div></td>
			<td><div name="div8">8</div></td>
		</tr>
		<tr>
			<td><div name="div18">18</div></td>
			<td><div name="div31">31</div></td>
			<td><div name="div36">36</div></td>
			<td><div name="div35">35</div></td>
			<td><div name="div26">26</div></td>
			<td><div name="div9">9</div></td>
		</tr>
		<tr>
			<td><div name="div17">17</div></td>
			<td><div name="div30">30</div></td>
			<td><div name="div29">29</div></td>
			<td><div name="div28">28</div></td>
			<td><div name="div27">27</div></td>
			<td><div name="div10">10</div></td>
		</tr>
		<tr>
			<td><div name="div16">16</div></td>
			<td><div name="div15">15</div></td>
			<td><div name="div14">14</div></td>
			<td><div name="div13">13</div></td>
			<td><div name="div12">12</div></td>
			<td><div name="div11">11</div></td>
		</tr>
	</table>
	<button onclick="start();">开始</button>
	<button onclick="exit();">结束</button>
</body>
<script type="text/javascript">
   	var k = 1;
   	var time_id ;
   	var end_id;
  	function start(){
  		time_id = window.setInterval("getTime()",500);
  		end_id = window.setInterval("chanageColoe()",100);
  	}
   	//定义改变div背景颜色的方法
   	function chanageColoe(){
   		if( k <= 36 ){
   			var div_arr = document.getElementsByName("div"+k)[0];
          		div_arr.style.backgroundColor =getColorNumber();
          		div_arr.innerHTML = getColorNumber();
   		}
   		else if(k==37){
   			
   			var div_arr = document.getElementsByTagName("div");
   			for(var i=0;i<div_arr.length;i++){
   				div_arr[i].style.backgroundColor ="#ffffff";
   			}
   			k=0;
   			
   		}
   		k++;
  			
       }
   	//定义方法获取颜色的数值
   	function getColorNumber(){
   		var color = "#";
        	
   		for( var i=1;i<=6;i++ ){
        		var v = parseInt(Math.random()*16);
        		if( v > 9 && v < 16 ){
        			color+=getChar(v);
        		}else{
        			color+=v;
        		}
        	}
   		return color;
        	
   	}
   	function getChar( value ){
    		var arr = ["A","B","C","D","E","F"];
    		return arr[value-10];
    }
    	
   	//定义功能，专门获取时间，并且把时间写到页面上
   	function getTime(){
   		//Date对象
   		var d = new Date();
   		var year = d.getFullYear();
   		var month = d.getMonth();
   		var day = d.getDate();
   		
   		var h = d.getHours();
   		var m = d.getMinutes();
   		var s = d.getSeconds();
   		
   		var time = year +"年"+ show(month) +"月"+ show(day) +"日"+ show(h) +":"+ show(m) +":"+ show(s);
   		
   		//要把数据写页面上
   		var div = document.getElementById("time");
		div.innerHTML = time;    		
   	}
   	
  	function show( value ){
   		if( value < 10 ){
   			value = "0" + value; 
   		}
   		return value;
   	}
  	function exit(){
  		window.clearInterval(time_id);
  		window.clearInterval(end_id);
  	}
  
  </script>
</html>
