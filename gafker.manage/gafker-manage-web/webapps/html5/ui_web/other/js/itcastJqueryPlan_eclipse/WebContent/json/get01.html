<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>ddd</title>
<meta
	http-equiv="content-type"
	content="text/html; charset=UTF-8"
>
<script
	language="JavaScript"
	src="../js/jquery-1.4.2.js"
></script>
</script>
<style type="text/css">
div, span {
	width: 140px;
	height: 140px;
	margin: 20px;
	background: #9999CC;
	border: #000 1px solid;
	float: left;
	font-size: 17px;
	font-family: Roman;
}

div.mini {
	width: 30px;
	height: 30px;
	background: #CC66FF;
	border: #000 1px solid;
	font-size: 12px;
	font-family: Roman;
}

div.visible {
	display: none;
}
</style>
<!--引入jquery的js库-->
</head>
<body>
	<form
		action=""
		name="form1"
		id="form1"
	>
		<input
			type="text"
			name="username"
			id="username"
			value="zhang"
		> <br> <input
			type="text"
			name="psw"
			id="psw"
			value="99999"
		> <br> <input
			type="button"
			id="b1"
			value="登陆"
		>
	</form>
	<div id="one"></div>
</body>
<script language="JavaScript">
      $("#b1").click(function(){
	  	/*
	  	 * get()
	  	 *  * 第一个参数 url
	  	 *  * 第二参数:发送的服务器的数据
	  	 *         格式:{key:value,key:value}
	  	 *  * 第三个参数回调函数 
	  	 *      * 代表请求返回内容的 data
	  	 *      * 第二个参数:代表请求状态的textStatus 其值可能为: succuss, error, notmodify, timeout4 种 
	  	 */
		
		 //$("#form1").serialize() 使用 serialize() 方法可以自动完成对参数的 url 编码
//	  	  $.get("get.jsp",$("#form1").serialize(),function(data,textStatus){
//		  	 alert(data);
//			 //转化为javaScrip能识别的格式
//			 var evalObj=eval("("+data+")");
//			 for(var i=0;i<evalObj.length;i++){
//			 	//[{'pid':'1','pname':'吉林省'},{'pid':'2','pname':'辽宁省'},{'pid':'3','pname':'山东省'}]
//			 	alert(evalObj[i].pid);
//				alert(evalObj[i].pname);
//			 }
//		  });

        
         $.getJSON("get.jsp",{username:$("#username").val(),psw:$("#psw").val()},function(data,textStatus){
		  	 //alert(data);
			 //转化为javaScrip能识别的格式
			 //var evalObj=eval("("+data+")");
			 for(var i=0;i<data.length;i++){
			 	//[{'pid':'1','pname':'吉林省'},{'pid':'2','pname':'辽宁省'},{'pid':'3','pname':'山东省'}]
			 	alert(data[i].pid);
				alert(data[i].pname);
			 }
		  });

		  
	  
//		   $.post("get.jsp",{username:$("#username").val(),psw:$("#psw").val()},function(data,textStatus){
//		  	 //alert("data "+data);
//			 //alert("textStatus  "+textStatus);
//			 $("#one").html(data);
//		  });
//		  
		  
		
	  }); 
    </script>
</html>
